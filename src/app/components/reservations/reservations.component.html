<div class="container mt-5">
  <div *ngIf="isLoading" class="text-center">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p>Loading reservations...</p>
  </div>

  <div *ngIf="!isLoading && error" class="alert alert-danger">
    {{ error }}
  </div>

  <div *ngIf="!isLoading && reservations.length > 0">
    <h2 class="text-center">My Reservations</h2>
    <table class="table table-striped table-bordered mt-4">
      <thead class="table-dark">
        <tr>
          <th>Trajet</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let reservation of reservations">
          <td>
            {{ reservation.trajet?.lieuDepart || 'Unknown' }} to
            {{ reservation.trajet?.lieuArrivee || 'Unknown' }}
          </td>
          <td>
            <span
              class="badge"
              [ngClass]="{
                'bg-success': reservation.confirme,
                'bg-warning text-dark': !reservation.confirme
              }">
              {{ reservation.confirme ? 'Confirmed' : 'Waiting' }}
            </span>
          </td>
          <td>
            <button
              class="btn btn-primary btn-sm"
              *ngIf="!reservation.confirme"
              (click)="confirmReservation(reservation.id)">
              Confirm
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="!isLoading && reservations.length === 0" class="alert alert-info">
    No reservations found.
  </div>
</div>
